<!-- step1 -->
<!-- <template>
    <div>
        <h2>Hello Vue!</h2>
    </div>
</template>

<script>
    console.log('âœ… LearningComponent loaded')
</script> -->

<!-- step2 -->
<template>
    <div style="border: 2px solid green; padding: 20px;">
        <h2>ğŸ“˜ å­¦ç¿’ãƒªã‚¹ãƒˆ</h2>
        <div class="flex">
            <ul>
                <li v-for="word in words" :key="word.id">
                {{ word.originalText }}
                </li>
            </ul>
            <ul>
                <li v-for="word in words" :key="word.id">
                {{ word.translatedText }}
                </li>
            </ul>
        </div>
        <p v-if="error" class="text-red-500 mt-2">{{ error }}</p>
    </div>
</template>

<script setup>

// refï¼šVue ã®ãƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ–å¤‰æ•°ï¼ˆåå¿œã™ã‚‹å¤‰æ•°ï¼‰ã‚’ä½œæˆã™ã‚‹ãŸã‚ã®é–¢æ•°
// onMountedï¼šVueã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒç”»é¢ã«ã€Œãƒã‚¦ãƒ³ãƒˆã•ã‚ŒãŸã¨ãã€ã«å®Ÿè¡Œã™ã‚‹å‡¦ç†ã‚’å®šç¾©ã™ã‚‹
import { ref, onMounted } from 'vue';
import axios from '../bootstrap.js';

// lessons ã¯ç©ºã®é…åˆ—ã¨ã—ã¦åˆæœŸåŒ–
// ref ã«ã‚ˆã£ã¦ãƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªçŠ¶æ…‹ã‚’æŒã¤
// â†’ ã“ã®å¤‰æ•°ã®ä¸­èº«ãŒå¤‰ã‚ã‚‹ã¨ã€Vue ãŒ DOM ã‚’è‡ªå‹•ã§æ›´æ–°ã—ã¦ãã‚Œã‚‹
const words = ref([]);
const error = ref('');

// Vueã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒç”»é¢ã«è¡¨ç¤ºã•ã‚ŒãŸ(ãƒã‚¦ãƒ³ãƒˆ)ç›´å¾Œã«ã€API ã‚’å‘¼ã³å‡ºã™
// fetch('/api/lessons') ã«ã‚ˆã‚Šã€Laravel ã® API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
// await response.json() ã§ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ JSON ã«å¤‰æ›
// lessons.value ã«ä»£å…¥ã™ã‚‹ã“ã¨ã§ã€ãƒªã‚¹ãƒˆã«åæ˜ ã•ã‚Œã‚‹
onMounted(async () => {
try {
    const response = await axios.get('/api/vue/test');
    words.value = response.wordList;
} catch (error) {
    console.error('âŒ API fetch failed:', error);
    error.value = 'ãƒ¯ãƒ¼ãƒ‰æƒ…å ±ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ'
}
});
</script>
